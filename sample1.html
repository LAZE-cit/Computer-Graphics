<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>5/19</title>
    <!-- three.jsを読み込む(CDN)-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/99/three.min.js"></script>
</head>
<body>
    <script>
        var init = function() {

            var width = 800, height = 600;

            // レンダラーを作成
            var renderer = new THREE.WebGLRenderer();
            // レンダラーのサイズを設定
            renderer.setSize(width,height);
            // canvasをbodyに追加
            document.body.appendChild(renderer.domElement);

            // シーンを作成
            var scene = new THREE.Scene();

            // カメラを作成
            var camera = new THREE.PerspectiveCamera(45,width/height,1,1000);
            camera.position.set(5,5,5);
            camera.lookAt(0,0,0);

            // helper
            const gridHelper = new THREE.GridHelper(2,10); // size, step
            scene.add(gridHelper);
            const axisHelper = new THREE.AxisHelper(2); //軸の長さ X：赤、Y：緑、Z：青
            scene.add(axisHelper);

            // 平行光源を生成
            var light1 = new THREE.DirectionalLight(0x0000ff);
            var light2= new THREE.DirectionalLight(0x00ff00);
            var light3= new THREE.DirectionalLight(0xff0000);
            var light4= new THREE.DirectionalLight(0xffffff);
            light1.position.set(1,1,1);
            light2.position.set(-1,1,1);
            light3.position.set(1,-1,1);
            light4.position.set(-1,-1,1);
            scene.add(light1);
            scene.add(light2);
            scene.add(light3);
            scene.add(light4);

            // 箱を作成
            var geometry = new THREE.BoxGeometry(1,1,1);
            var material = new THREE.MeshPhongMaterial({color:0xffffff});
            var box = new THREE.Mesh(geometry, material);
            box.position.set(0,0,3);
            scene.add(box);

            //平面を作成
            var geometry = new THREE.PlaneGeometry(1,1,1);
            var material = new THREE.MeshPhongMaterial({color:0xffffff});
            var plane = new THREE.Mesh(geometry,material);
            plane.position.set(3,0,0);
            scene.add(plane);

            //初回実行
            var update = function(){
                requestAnimationFrame(update);

                //箱を回転させる
                box.rotation.x += 0.01;
                box.rotation.y += 0.01;

                //平面を回転させる
                plane.rotation.x -= 0.01;
                plane.rotation.y -= 0.01;

                renderer.render(scene,camera);
            };
            update();
        }
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>